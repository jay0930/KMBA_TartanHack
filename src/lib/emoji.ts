/**
 * Keyword-to-emoji mapping for calendar/manual events.
 * Checked in order; first match wins. Keys are lowercase substrings.
 */
const EMOJI_MAP: [string, string][] = [
  // Work / Study
  ['hackathon', 'ğŸ’»'], ['í•´ì»¤í†¤', 'ğŸ’»'],
  ['meeting', 'ğŸ¤'], ['íšŒì˜', 'ğŸ¤'],
  ['standup', 'ğŸ’»'], ['ìŠ¤íƒ ë“œì—…', 'ğŸ’»'],
  ['interview', 'ğŸ¤'], ['ë©´ì ‘', 'ğŸ¤'],
  ['presentation', 'ğŸ“Š'], ['ë°œí‘œ', 'ğŸ“Š'],
  ['homework', 'ğŸ“'], ['ê³¼ì œ', 'ğŸ“'],
  ['assignment', 'ğŸ“'], ['ìˆ™ì œ', 'ğŸ“'],
  ['study', 'ğŸ“–'], ['ê³µë¶€', 'ğŸ“–'],
  ['class', 'ğŸ“'], ['ìˆ˜ì—…', 'ğŸ“'],
  ['lecture', 'ğŸ“'], ['ê°•ì˜', 'ğŸ“'],
  ['exam', 'ğŸ“'], ['ì‹œí—˜', 'ğŸ“'],
  ['seminar', 'ğŸ“‹'], ['ì„¸ë¯¸ë‚˜', 'ğŸ“‹'],
  ['workshop', 'ğŸ› ï¸'], ['ì›Œí¬ìˆ', 'ğŸ› ï¸'],
  ['office', 'ğŸ¢'], ['ì‚¬ë¬´ì‹¤', 'ğŸ¢'],
  ['work', 'ğŸ’¼'],

  // Food / Drink
  ['breakfast', 'ğŸ¥'], ['ì•„ì¹¨', 'ğŸ¥'],
  ['brunch', 'ğŸ¥'], ['ë¸ŒëŸ°ì¹˜', 'ğŸ¥'],
  ['lunch', 'ğŸ½ï¸'], ['ì ì‹¬', 'ğŸ½ï¸'],
  ['dinner', 'ğŸ½ï¸'], ['ì €ë…', 'ğŸ½ï¸'],
  ['coffee', 'â˜•'], ['ì»¤í”¼', 'â˜•'],
  ['cafe', 'â˜•'], ['ì¹´í˜', 'â˜•'],
  ['tea', 'ğŸµ'],
  ['restaurant', 'ğŸ½ï¸'], ['ì‹ë‹¹', 'ğŸ½ï¸'],
  ['bar', 'ğŸº'], ['ìˆ ', 'ğŸº'],
  ['beer', 'ğŸº'], ['ë§¥ì£¼', 'ğŸº'],
  ['wine', 'ğŸ·'], ['ì™€ì¸', 'ğŸ·'],
  ['pizza', 'ğŸ•'], ['í”¼ì', 'ğŸ•'],
  ['ramen', 'ğŸœ'], ['ë¼ë©´', 'ğŸœ'],

  // Social
  ['party', 'ğŸ‰'], ['íŒŒí‹°', 'ğŸ‰'],
  ['birthday', 'ğŸ‚'], ['ìƒì¼', 'ğŸ‚'],
  ['date', 'ğŸ’•'], ['ë°ì´íŠ¸', 'ğŸ’•'],
  ['friend', 'ğŸ‘«'], ['ì¹œêµ¬', 'ğŸ‘«'],
  ['wedding', 'ğŸ’’'], ['ê²°í˜¼', 'ğŸ’’'],

  // Fitness / Health
  ['gym', 'ğŸ‹ï¸'], ['í—¬ìŠ¤', 'ğŸ‹ï¸'],
  ['ìš´ë™', 'ğŸ‹ï¸'], ['exercise', 'ğŸ‹ï¸'], ['workout', 'ğŸ‹ï¸'],
  ['run', 'ğŸƒ'], ['ë‹¬ë¦¬ê¸°', 'ğŸƒ'], ['jogging', 'ğŸƒ'],
  ['yoga', 'ğŸ§˜'], ['ìš”ê°€', 'ğŸ§˜'],
  ['swim', 'ğŸŠ'], ['ìˆ˜ì˜', 'ğŸŠ'],
  ['hiking', 'ğŸ¥¾'], ['ë“±ì‚°', 'ğŸ¥¾'],
  ['doctor', 'ğŸ¥'], ['ë³‘ì›', 'ğŸ¥'], ['hospital', 'ğŸ¥'],
  ['dentist', 'ğŸ¦·'], ['ì¹˜ê³¼', 'ğŸ¦·'],

  // Transport / Travel
  ['flight', 'âœˆï¸'], ['ë¹„í–‰', 'âœˆï¸'], ['airport', 'âœˆï¸'], ['ê³µí•­', 'âœˆï¸'],
  ['travel', 'ğŸ§³'], ['ì—¬í–‰', 'ğŸ§³'],
  ['drive', 'ğŸš—'], ['ìš´ì „', 'ğŸš—'],
  ['bus', 'ğŸšŒ'], ['ë²„ìŠ¤', 'ğŸšŒ'],
  ['train', 'ğŸš†'], ['ê¸°ì°¨', 'ğŸš†'],

  // Entertainment
  ['movie', 'ğŸ¬'], ['ì˜í™”', 'ğŸ¬'],
  ['game', 'ğŸ®'], ['ê²Œì„', 'ğŸ®'],
  ['concert', 'ğŸµ'], ['ì½˜ì„œíŠ¸', 'ğŸµ'],
  ['music', 'ğŸµ'], ['ìŒì•…', 'ğŸµ'],
  ['book', 'ğŸ“š'], ['ë…ì„œ', 'ğŸ“š'], ['reading', 'ğŸ“š'],
  ['shopping', 'ğŸ›ï¸'], ['ì‡¼í•‘', 'ğŸ›ï¸'],
  ['museum', 'ğŸ›ï¸'], ['ë°•ë¬¼ê´€', 'ğŸ›ï¸'],
  ['photo', 'ğŸ“·'], ['ì‚¬ì§„', 'ğŸ“·'],

  // Home / Personal
  ['sleep', 'ğŸ˜´'], ['ì ', 'ğŸ˜´'], ['nap', 'ğŸ˜´'], ['ë‚®ì ', 'ğŸ˜´'],
  ['clean', 'ğŸ§¹'], ['ì²­ì†Œ', 'ğŸ§¹'],
  ['cook', 'ğŸ‘¨â€ğŸ³'], ['ìš”ë¦¬', 'ğŸ‘¨â€ğŸ³'],
  ['laundry', 'ğŸ‘•'], ['ë¹¨ë˜', 'ğŸ‘•'],
  ['walk', 'ğŸš¶'], ['ì‚°ì±…', 'ğŸš¶'],
  ['church', 'â›ª'], ['êµíšŒ', 'â›ª'],
  ['pray', 'ğŸ™'], ['ê¸°ë„', 'ğŸ™'],
];

/**
 * Returns an emoji for an event title using keyword matching.
 * Falls back to 'ğŸ“…' if no keyword matches.
 */
export function getEmojiForEvent(title: string): string {
  const lower = title.toLowerCase();
  for (const [keyword, emoji] of EMOJI_MAP) {
    if (lower.includes(keyword)) {
      return emoji;
    }
  }
  return 'ğŸ“…';
}
